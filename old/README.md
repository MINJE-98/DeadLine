# 유통기한 관리어플(DeadLine)



## 기술 스택



### react-native

####   expo
#### ​	react-native-navigation
####   react-native-redux



## 프로젝트 구조(Project Structure)

### app.js
### src
#### 	api
#### 	components
#### 	containers
####    navigation
####    redux
####    styles
####    utilities

## Deadline 서비스 흐름

# 인증(AUTH)

❗OAUTH2.0 방식을 기준으로 인증을 구현 해보았습니다.

### 처음 로그인

1. 로그인 버튼을 누른다.
2. 토큰을 받아온다.
3. 로컬 스토리지에 저장한다
4. 토큰으로 유저정보를 받아온다
5. 사용자를 생성한다.
6. 마지막 로그인 날짜 업데이트
7. 로그인

### 다시 접속

1. 토큰을 받는다.
2. 해당 토큰이 우리 서비스 토큰인지 확인 한다
3. 사용자가 등록되어있는지 확인한다
4. 마지막 로그인 날짜를 업데이트
5. 로그인

### 토큰이 필요한 요청

1. 토큰을 받는다.
2. 해당 토큰이 우리 서비스 토큰인지 확인 한다
3. 요청을 처리한다.

### 예외처리

1. 처음로그인
    1. 다른 서비스의 토큰을 가지고 가입 할경우/
2. 다시 접속
    1. 토큰이 만료 되어 사용자 정보를 불러올 수 없는 경우
    2. 데이터 베이스에 사용자가 없는 경우
3. 토큰이 필요한 요청
    1. 토큰이 만료 되어 사용자 정보를 불러올 수 없는 경우

❗ 아래의 로직들은 토큰을 검증 후 동작합니다.

# 팀(Teams)

### 팀 생성

1. 팀을 생성한다.
2. 팀 UID를 생성해 팀을 생성한다
3. 생성된 팀에 생성한 사람을 관리자로 가입 시킨다
4. 팀 생성 완료 

### 팀 삭제

### 예외 처리

1. 이미 같은 UID가 있을 경우
2. 유저가 팀에 소속되어있는지 검증합니다.

## 팀멤버(teamembers)

❗팀멤버(teamembers)는 팀(teams)의 자식 이며, 팀이 없으면 없는팀의 멤버가 될 수 없다.

### 팀 가입

1. 팀UID를 입력한다.
2. 팀UID가 있는지 확인한다.
3. state 코드에 따라 사용자를 멤버에 등록한다. 
4. 팀 등록 완료 

❗유저가 팀에 소속되었는지 검증 후 로직이 동작합니다.

### 팀 탈퇴

(미 구 현)

### 예외 처리

1. 팀 UID가 없을 경우
2. 이미 가입 신청을 했을 경우

## 아이템(goods)

유저가 상품을 스캔 했을때, 해당 바코드의 다른 팀에서 등록한 상품 정보를 보여준다.

유저는 다른 팀의 상품을 선택하여 사용 할 수 있고, 자기 자신이 선택하여 사용할 수 있다.

1. 상품을 스캔한다.
2. 팀에서 해당 바코드의 상품을 가지고 있는지 확인한다.
3. 다른 팀의 바코드의 상품을 보여준다.
4. 유저가 상품을 새로 추가한다.
5. 상품 정보가 입력 되었다.
6. 유통기한을 등록하면서 같이 아이템 정보가 저장된다.

### 이미지 업로드

(미 구 현)

### 팀에서 상품정보 가져오기

1. 팀이 가지고있는 상품 정보를 가져온다.
2. 유통기한을 입력한다.
3. 테그를 선택한다.
4. 등록 정보 ={ A팀의 상품id값, 유통기한, 테그id}

### 전체팀에서 상품정보 가져와서 유통기한 등록

1. 전체팀의 상품 정보를 가져온다.
2. 원하는 팀의 상품정보를 복사한다.
3. 유통기한을 입력한다.
4. 테그를 선택한다.
5. 등록 정보 ={ A팀의 상품id값, 유통기한, 테그id }

### 상품정보 변경 확인

### 예외처리

## 유통기한(DeadLine)

1. 유통기한을 입력한다.

2. 팀이 가지고있는 테그를 선택한다.

3. 유통기한을 등록한다.